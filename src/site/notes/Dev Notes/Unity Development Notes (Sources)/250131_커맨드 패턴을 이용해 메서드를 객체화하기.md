---
{"dg-publish":true,"permalink":"/Dev Notes/Unity Development Notes (Sources)/250131_ì»¤ë§¨ë“œ íŒ¨í„´ì„ ì´ìš©í•´ ë©”ì„œë“œë¥¼ ê°ì²´í™”í•˜ê¸°/","noteIcon":"","created":"2024-12-15T23:26:49.000+09:00","updated":"2025-07-20T02:49:56.123+09:00"}
---

# ê²°ê³¼ & í™œìš©
![](https://i.imgur.com/K3o9dBi.png)
- ì—ë””í„°ì—ì„œ Entity(ìºë¦­í„°) ì´ˆê¸°í™” ëª…ë ¹ ì»¤ë§¨ë“œ ì„¸íŒ…
- Entity ì´ˆê¸°í™” ê³¼ì •ì—ì„œ ì»¤ë§¨ë“œ ë°°ì—´ì„ ìˆœíšŒí•˜ë©° ëª…ë ¹ ì‹¤í–‰, ì„¸íŒ…ëœ ëª…ë ¹ í•¨ìˆ˜ê°€ ì•Œì•„ì„œ Entityë¥¼ ì´ˆê¸°í™”

# ëª©í‘œ
- í•¨ìˆ˜ë¥¼ ê°ì²´í™”í•˜ì—¬ ë‹¤ë£° ìˆ˜ ìˆë„ë¡ í•œë‹¤
- ìŠ¤í¬ë¦½íŠ¸ë¥¼ ê±´ë“¤ì§€ ì•Šê³  ì—ë””í„°ë§Œìœ¼ë¡œ íŠ¹ì • ê°ì²´ì— ë‚´ë¦´ ëª…ë ¹ í”„ë¦¬ì…‹ì„ ë§Œë“¤ê³  ì¬í™œìš©í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤

# êµ¬í˜„
- **êµ¬ìƒ**
    - ì—¬ëŸ¬ ëª…ë ¹ í´ë˜ìŠ¤ë“¤ì„ ì¶”ìƒí™”í•˜ëŠ” `ICommand` ì¸í„°í˜ì´ìŠ¤
    - `ScriptableObject`ë¡œ Commandë¥¼ ë‚˜íƒ€ë‚´ê¸° ìœ„í•œ `ScriptableCommand`
    - ë¬¸ìì—´ì„ í†µí•´ ëª…ë ¹ì„ ë™ì‘ì‹œí‚¬ ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•œ `StringCommand`ì™€ `StringScriptableCommand`

```mermaid
classDiagram
	ICommand <|.. ScriptableCommand
	ScriptableCommand <|-- StringScriptableCommand
	StringCommand <-- StringScriptableCommand
	ICommand<|.. StringCommand
  
  class ICommand  {
      +Execute()
  }
  
  class ScriptableCommand{ }
  
  class StringScriptableCommand  {
	  - StringCommand: stringCommand
  }
  
  class StringCommand  {
    +Get string: CommandLine
    -Set string: CommandLine
    +Dictionary CommandMap[string->ICommand]$
  }
```

- `ICommand` ì™€ `ScriptableCommand`
    
    - ì´ ë‘ê°€ì§€ë¥¼ ë² ì´ìŠ¤ë¡œ ì»¤ë§¨ë“œ êµ¬í˜„
    
    ```csharp
    public interface ICommand
    {
    		public void Execute(object target);
    }
    
    public abstract class ScriptableCommand : ScriptableObject, ICommand
    {
    	  public abstract void Execute(object target);
    }
    ```
    
    - ê¸°ë³¸ì ìœ¼ë¡œ Commandë¥¼ ì‹¤í–‰ì‹œí‚¤ëŠ” ê¸°ëŠ¥ë§Œ í¬í•¨
    - ì„¸ë¶€ êµ¬í˜„ì€ ì¼ë°˜ ì»¤ë§¨ë“œì˜ ê²½ìš° `ICommand`, ìŠ¤í¬ë¦½í„°ë¸” ì»¤ë§¨ë“œì˜ ê²½ìš°`ScriptableCommand`ë¥¼ ìƒì†í•˜ì—¬ êµ¬í˜„
- `StringCommand`
    
    - ë³¸ì¸ì´ ì§€ë‹Œ í‚¤ `CommandLine` ì— ë¶€í•©ë˜ëŠ” ëª…ë ¹ì„ ì‹¤í–‰ì‹œí‚¤ëŠ” ì»¤ë§¨ë“œ ê°ì²´
    - `CommandMap` : ë¬¸ìì—´ í‚¤ë¡œ ì»¤ë§¨ë“œë¥¼ ì—°ê²°ì‹œì¼œì£¼ëŠ” ì •ì  ë”•ì…”ë„ˆë¦¬
- `ScriptableStringCommand`
    
    - `StringCommand`ë¥¼ `ScriptableObject`ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì»¤ë§¨ë“œ ê°ì²´

### StringCommand ë¬¸ìì—´ í‚¤ ì„¸íŒ… ìë™í™”

<aside> ğŸ¤”

StringCommandë¥¼ í†µí•´ ë¬¸ìì—´ë¡œ ì»¤ë§¨ë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒ ê¹Œì§„ ì¢‹ì€ë° Key,Value ì„¸íŒ…ì„ í•˜ë‚˜í•˜ë‚˜ í• ìˆ˜ëŠ” ì—†ë‹¤..

</aside>

```csharp
private const string SetCommand = "Set";
public static void Initialize()
{
    InitializeEntityControllerCommand();
}

public static void InitializeEntityControllerCommand()
{
    var subclasses = ReflectionHelper.GetSubclasses<EntityController>();
    
    foreach (var sub in subclasses)
    {
        var commandString = SetCommand + sub.Name;
        
        var entityControllerSetCommandType = typeof(EntityControllerSetCommand<>).MakeGenericType(sub);
        var command = Activator.CreateInstance(entityControllerSetCommandType) as ICommand;
        
        StringCommand.CommandMap.Add(commandString, command);
    }
}
```

- `Reflection`ìœ¼ë¡œ íŠ¹ì • íƒ€ì…ì„ ìƒì†ë°›ì€ ê°ì²´ë“¤ì„ ì°¾ê³  ìë™ í‚¤,ë°¸ë¥˜ ì„¸íŒ…
- `ReflectionHelper.GetSubclasses` ëŠ” ë‚´ê°€ ë§Œë“  í”„ë ˆì„ì›Œí¬ì˜ í•¨ìˆ˜

ê°ì²´ ì´ˆê¸°í™”ì‹œ ìœ„ ì»¤ë§¨ë“œê°€ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.

ë§Œì•½ ê°ì²´ ì´ˆê¸°í™” ì´í›„ì—ë„ ìŠ¤í…Œì´í„°ìŠ¤ë¥¼ êµì²´í•˜ê±°ë‚˜ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ êµì²´í•˜ê³  ì‹¶ë‹¤ë©´ ìœ„ ì»¤ë§¨ë“œë¥¼ Entityì— ì „ë‹¬í•´ì£¼ë©´ ëœë‹¤!