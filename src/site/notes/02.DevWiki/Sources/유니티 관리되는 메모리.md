---
{"dg-publish":true,"permalink":"/02.DevWiki/Sources/유니티 관리되는 메모리/","noteIcon":"","created":"2024-12-21T18:32:47.000+09:00","updated":"2025-07-23T00:15:20.749+09:00"}
---

> 스크립트 백엔드(Mono, IL2CPP)가 가비지 컬렉터와 관리되는 힙을 통해 메모리를 관리

- **값 형식과 레퍼런스 타입을 다른곳에 전달할 때..**
    - **값 형식**
        - **파라미터**를 **콜스택**에 복사하여 전달
    - **레퍼런스 타입**
        - 일반적으로 **크다**
        - 사용할 때 마다 **매번 복사**하는건 **비효율적**
        - **관리되는 힙**에 할당하여 관리

콜스택 [https://blog.naver.com/wns7756/221556840041](https://blog.naver.com/wns7756/221556840041)

### 관리되는 힙

> 스크립트 백엔드가 자동으로 관리하는 메모리 공간

- **오브젝트 생성**
    - 스크립트 백엔드가 **관리되는 힙**에서 **메모리 할당**
- **메모리 해제로 인한 메모리 단편화 현상**
    - 메모리를 해제하면 그 만큼의 **간극 발생**
    - 빈 공간이 아무리 많더라도 단편화된 공간보다 **큰 객체는 못 들어감**
    ![파일](https://docs.unity3d.com/kr/2021.3/uploads/Main/managed-heap-removed-objects.jpg)
- **관리되는 힙 공간이 가득찼을 경우**
    - **GC 수집** 실행
    - 관리되는 힙 **확장**
- **관리되는 힙 공간을 다시 반환하는 경우**
    - **굳이 반환**했다가 **다시 확장**하는 일을 막기 위해 보통은 **반환 잘 안함**
    - **그럼에도 하는 경우**
        - 앱 **장시간 유휴**상태
        - 메모리 **과차지**