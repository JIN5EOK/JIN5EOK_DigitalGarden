---
{"dg-publish":true,"permalink":"/02.DevWiki/Sources/CSharp readonly vs const 차이와 특성 비교/"}
---

## readonly

* **런타임 시 값이 결정**된다
* **선언부** 뿐 아니라 **생성자에서 초기화** 할 수 있다
* **상수가 아니다!!**
	* [ ] static을 붙이지 않고 사용하면 엄연히 **본인을 포함한 객체와 생명주기를 함께하는 불변 속성이 붙은 변수**(말이 좀 이상하긴 한데)에 불과함
		* **값**일 경우 **스택 메모리** (값 자료형을 구조체 내부에 선언)
		* [ ] **참조**일 경우 **힙 메모리** (값이라도 클래스 내부 선언 혹은 참조형 타입)
		* **Static**일 경우 **데이터 메모리**
## const

* **컴파일 시 값이 결정**된다
	* 실제로 상수값 참조 부분에 대한 컴파일 결과를 보면 **상수 필드를 가리키는게 아니라 상수가 가리키던 값 자체가 코드에 포함되어** 사용되는 걸 볼 수 있음
	* 사실상 `... = 3.14f, ... = "hello!"` 처럼 마치 값처럼 동작하므로 readonly와 달리 **변수 초기화 구문**에서도 사용할 수 있음
    	* 😁 개인적으로 const의 가장 큰 장점이라고 생각함
	* **성능적으로 우수**하다
* **유연성이 떨어진다**
	* const상수를 참조한 코드들은 **컴파일 과정에서 참조가 아닌 값으로 대체**된다, 따라서 값을 변경할 경우 해당 const 상수 값을 참조하는 **모든 코드들을 재 컴파일** 해야 문제가 없다
	* **기본 자료형** 외에는 사용할 수 없다
		* 🤔 왜 기본 자료형 외에는 사용할 수 없을까?
			* **const가 컴파일 타임에 정해지는 값**이라는 점을 생각해보면 쉽다, **런타임 이전 컴파일 타임**에 값이 정해져야 하는거니까..

## 어떤걸 어떤 상황에 사용해야 할까?

* **두 키워드 다 일장일단이 있으니 잘 판단해서 상황에 맞는 것을 사용**하자
* 대부분의 경우는 **readonly로도 충분**하다
    * 둘의 성능차이는 미미한 수준이고
    * **const는 런타임 이전에도 사용될 수 있다**는 점을 제외하면 **readonly의 유연성이 훨씬 높다**
## 여담

* **enum**도 컴파일 타임 상수이다, const와 마찬가지로 **컴파일 타임**에 값이 정해진다